{"version":3,"sources":["webpack:///./src/state/gyroscope.js","webpack:///./src/pages/page-2.js"],"names":["GyroController","props","_this","_React$Component","call","this","axisControl","axis","deg","control","state","started","Date","now","clocks","deviceOrientationHandler","e","alpha","beta","gamma","console","log","startingPoint","setState","olddeviceOrientationHandler","absolute","which","arg","testVal","Math","round","threshold","pos","document","getElementById","innerHTML","bind","assertThisInitialized_default","thresholds","reorient","componentWillUnmount","window","removeEventListener","componentDidMount","addEventListener","render","react_default","a","createElement","id","children","React","Component","SecondPage","gyroscope"],"mappings":"uJAiGeA,cA9Fb,SAAAA,EAAYC,GAAM,IAAAC,EAAA,OAChBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MAsCFC,YAAc,SAACC,EAAMC,EAAKC,IACU,OAA7BP,EAAKQ,MAAMC,QAAQJ,IAAoBK,KAAKC,MAAMX,EAAKQ,MAAMC,QAAQJ,GAAOL,EAAKQ,MAAMI,OAAOP,KAE/FE,EAAQF,IA1CIL,EA+ClBa,yBAAyB,SAACC,GAAI,IACpBC,EAAuBD,EAAvBC,MAAOC,EAAgBF,EAAhBE,KAAMC,EAAUH,EAAVG,MAClBjB,EAAKQ,MAAMO,OAASf,EAAKQ,MAAMQ,MAAQhB,EAAKQ,MAAMS,OACnDC,QAAQC,IACNnB,EAAKQ,MAAMO,MAAOf,EAAKQ,MAAMQ,KAAMhB,EAAKQ,MAAMS,MAAOjB,EAAKQ,MAAMY,eAElEpB,EAAKqB,SAAS,CAAEN,QAAOC,OAAMC,WAE7BjB,EAAKqB,SAAS,CAAEN,QAAOC,OAAMC,QAC3BG,cAAe,CAAEL,QAAOC,OAAMC,YAxDlBjB,EA6DlBsB,4BAA4B,SAACR,GACcA,EAAjCS,SAAiCT,EAAvBC,MAAuBD,EAAhBE,KAAgBF,EAAVG,MAC/BC,QAAQC,IAAIL,GAIZ,IAAcU,EAEKC,EADXC,EAKR1B,EAAKI,YAAY,SANHoB,EAMgB,QALtBE,EAAUC,KAAKC,OAAQ,IAAMd,EAAEU,GAAOxB,EAAKQ,MAAMY,cAAcI,IAAQ,IAAK,IACjEC,EACGC,EADK1B,EAAKQ,MAAMqB,UAAUL,GAAO,GAAKC,EAAMzB,EAAKQ,MAAMqB,UAAUL,GAAO,GAC7DE,EAAU,GAGJ,SAAAI,GACrCZ,QAAQC,IAAIb,KACZyB,SAASC,eAAe,WAAWC,UAAnC,OAAsD3B,KAFxDN,IAvEAA,EAAKa,yBAAyBb,EAAKa,yBAAyBqB,KAA9BC,IAAAnC,IAC9BA,EAAKQ,MAAM,CACT4B,WAAY,CACVrB,MAAO,EAAE,GAAI,IACbC,KAAM,EAAE,GAAI,IACZC,MAAO,EAAE,GAAI,KAEfR,QAAS,CACPM,MAAO,KACPC,KAAM,KACNC,MAAO,MAETL,OAAQ,CACNG,MAAO,IACPC,KAAM,IACNC,MAAO,KAETG,cAAc,MAnBApB,sCAsBlBqC,SAAA,SAASvB,GACPX,KAAKkB,SAAS,CACZN,MAAM,EACNC,KAAK,EACLC,MAAM,EACNG,cAAc,CACZL,MAAMY,KAAKC,MAAMd,EAAEC,OACnBC,KAAMW,KAAKC,MAAMd,EAAEE,MACnBC,MAAOU,KAAKC,MAAMd,EAAEG,QAEtBR,QAAS,CACPM,MAAO,KACPC,KAAM,KACNC,MAAO,IAAIP,WA2CjB4B,qBAAA,WACEC,OAAOC,oBAAoB,oBAAqBrC,KAAKU,0BAA0B,MAEjF4B,kBAAA,WACEF,OAAOG,iBAAiB,oBAAqBvC,KAAKU,0BAA0B,MAE9E8B,OAAA,WACE,OACEC,EAAAC,EAAAC,cAAA,YACAF,EAAAC,EAAAC,cAAA,OAAKC,GAAG,WAAR,cACE5C,KAAKJ,MAAMiD,cAzFUC,IAAMC,WCkDpBC,UAjDI,kBACjBP,EAAAC,EAAAC,cAACM,EAAD,KACER,EAAAC,EAAAC,cAAA,yCACAF,EAAAC,EAAAC,cAAA","file":"component---src-pages-page-2-js-94a7a7da4aa81ebc7239.js","sourcesContent":["import React from 'react'\n\nclass GyroController extends React.Component {\n  constructor(props){\n    super(props);\n    this.deviceOrientationHandler=this.deviceOrientationHandler.bind(this)\n    this.state={\n      thresholds: {\n        alpha: [-45, 45],\n        beta: [-45, 45],\n        gamma: [-45, 45],\n      },\n      started: {\n        alpha: null,\n        beta: null,\n        gamma: null,\n      },\n      clocks: {\n        alpha: 10000,\n        beta: 10000,\n        gamma: 1000,\n      },\n      startingPoint:null,\n    }\n  }\n  reorient(e){\n    this.setState({\n      alpha:0,\n      beta:0,\n      gamma:0,\n      startingPoint:{\n        alpha:Math.round(e.alpha),\n        beta: Math.round(e.beta),\n        gamma: Math.round(e.gamma),\n      },\n      started: {\n        alpha: null,\n        beta: null,\n        gamma: new Date(),\n      },\n    })\n  }\n  axisControl = (axis, deg, control) => {\n    if ((this.state.started[axis] === null) || (Date.now()-this.state.started[axis])<this.state.clocks[axis]){\n      // if(deg!==0){\n        control(axis)\n      // }\n    }\n  }\n\n  deviceOrientationHandler=(e)=>{\n    const { alpha, beta, gamma } = e;\n    if(this.state.alpha && this.state.beta && this.state.gamma){\n      console.log(\n        this.state.alpha, this.state.beta, this.state.gamma, this.state.startingPoint\n      )\n      this.setState({ alpha, beta, gamma })\n    }else{\n      this.setState({ alpha, beta, gamma,\n        startingPoint: { alpha, beta, gamma }\n      })\n    }\n  }\n\n  olddeviceOrientationHandler=(e)=>{\n    const { absolute, alpha, beta, gamma } = e;\n    console.log(e)\n    // if(this.state.startingPoint===null){\n    //   this.reorient(e)\n    // }\n    const zero = (which) =>{\n      const testVal = Math.round(((450 + e[which]-this.state.startingPoint[which])%180)-90);\n      const testFunc = arg => (this.state.threshold[which][0] < arg < this.state.threshold[which][1]);\n      const no = testFunc(testVal) ? testVal : 0;\n      return no;\n    }\n    this.axisControl('gamma',zero('gamma'),pos => {\n      console.log(deg);\n      document.getElementById('zeroVal').innerHTML = `DEG=${deg}`\n    })()\n  }\n  componentWillUnmount(){\n    window.removeEventListener('deviceorientation', this.deviceOrientationHandler, true);\n  }\n  componentDidMount(){\n    window.addEventListener('deviceorientation', this.deviceOrientationHandler, true);\n  }\n  render() {\n    return (\n      <main>\n      <div id=\"zeroVal\">value here</div>\n      { this.props.children }\n      </main>\n    )\n  }\n}\n\nexport default GyroController\n\n//\n//\n// function deviceOrientationHandler(e){\n//   if(window.startingPoint===null){\n//     reorient(e);\n//     document.getElementById('based').innerHTML = `\n//     S.A: ${window.startingPoint.alpha},\n//     S.B: ${window.startingPoint.beta},\n//     S.G: ${(window.startingPoint.gamma - 90) % 180}`;\n//   }\n//   var threshold=15;\n//   let alphaString='';\n//   let betaString='';\n//   let gammaString='';\n//   let multiple = 0;\n//   if(Math.abs(zero(e,'alpha'))>threshold){\n//     multiple = Math.min(Math.floor(zero(e,'alpha')/threshold),3)*threshold;\n//     document.querySelector('#alphaDiv').classList=`bg${multiple}`;\n//   }else{\n//     document.querySelector('#alphaDiv').classList=[];\n//   }\n//   if(Math.abs(zero(e,'beta'))>threshold){\n//     betaString=`;${threshold} and ${zero(e,'beta')}`;\n//     multiple = Math.min(Math.floor(zero(e,'beta')/threshold),3)*threshold;\n//     document.querySelector('#betaDiv').classList=`bg${multiple}`;\n//   }else{\n//     document.querySelector('#betaDiv').classList=[];\n//   }\n//   if(Math.abs(zero(e,'gamma', true))>threshold){\n//     gammaString=`;${threshold} and ${zero(e,'gamma', true)}`;\n//     multiple = Math.max(0,Math.min(Math.floor(zero(e,'gamma',true)/threshold),3)*threshold);\n//     document.querySelector('#gammaDiv').classList=`bg${multiple}`;\n//   }else{\n//     document.querySelector('#gammaDiv').classList=[];\n//   }\n//   document.getElementById('updated').innerHTML = `\n//   A: ${calibrateMe(Math.round(e.alpha))};\n//   B: ${calibrateMe(Math.round(e.beta))};\n//   G: ${calibrateMe(Math.round(e.gamma),90)}`;\n//   document.getElementById('difference').innerHTML = `\n//   D.A: ${zero(e,'alpha')}, ${alphaString}\n//   D.B: ${zero(e,'beta')}, ${betaString}\n//   D.G: ${zero(e,'gamma', true)} ${gammaString}`;\n// }\n","import React from 'react'\nimport GyroController from '../state/gyroscope'\n\nconst SecondPage = () => (\n  <GyroController>\n    <h1>This is NOT the second page</h1>\n    <p>Welcome to page 2</p>\n  </GyroController>\n)\n//\n// return (\n//   <StaticQuery\n//     query={graphql`\n//       query{\n//         allCountry{\n//           edges{\n//             node{\n//               name\n//               nativeName\n//               code\n//               latlng\n//               borders\n//             }\n//           }\n//         }\n//       }\n//     `}\n//     render={data => (\n//       <>\n//         <Helmet\n//           title={}\n//           meta={[\n//             { name: 'description', content: 'Kevin Ready is a developer, musician and adventurist.' },\n//             { name: 'keywords', content: 'freelance,react,node,javascript,contractor,developer' },\n//             // { name: 'Access-Control-Request-Headers', content: 'Accept,Access-Control-Allow-Origin' },\n//             // { name: 'Access-Control-Allow-Origin', content: '*' },\n//           ]}\n//         >\n//           <html lang=\"en\" />\n//           <meta name=\"theme-color\" content=\"#000000\" />\n//           <meta name=\"apple-mobile-web-app-capable\" content=\"yes\" />\n//           <meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black\" />\n//           <meta name=\"description\" content=\"Kevin Ready | Creativist\" />\n//         </Helmet>\n//         {content}\n//       </>\n//     )}\n//   />\n// )\n// }\n//\n//\nexport default SecondPage\n"],"sourceRoot":""}